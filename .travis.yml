sudo: required

dist: trusty

language: python

python:
  - '3.4'


before_install:
  #- sudo add-apt-repository -y ppa:thomas-schiex/blender
  #- sudo apt-get update
  #- sudo apt-get install -y blender
  - wget http://download.blender.org/release/Blender2.77/blender-2.77a-linux-glibc211-x86_64.tar.bz2
  - tar -xjf blender-2.77a-linux-glibc211-x86_64.tar.bz2
  - sudo ln /dev/null /dev/raw1394

install:
  - pip install -r requirements.txt

script:
  - python3 scripts/download_sample_files.py
  - python3 -m coverage run -m pytest --blender=$TRAVIS_BUILD_DIR/blender-2.77a-linux-glibc211-x86_64/blender
  - python3 -m coverage combine

after_success: coveralls


env:
   global:
      - AUDIODEV=null
      - secure: "WcPSUri4BEDA/PegJ1BoxdUS/U9gt3FUSiWwL+i4ClQrhtvMIh4aS7K6hDseZwt28u/ihMDFHsLjQy+Rh8pgpnsJx83ur61u0ddZ1lSPLSnYVrpx5O0Ez+/vT9ghK45vRqyI1lPN2207kAuSwL8cTNT5NXiJmk2BhY7qVuyQ5tTqJfVOnQ98ePE5Xza5fQtwb3YW0yeu5LY3GuPcyUV9AfHadVvWjb23eyE/YFCQGSJNWy9szvCJHnWliE6WzNTeWkyWIln9+1JhSflKRX3FGNaKnYJJBt37C5rVT57W3Fs//MZ118gCBlPALCoP19sMw6fQxw+Q86Wk6NTnOn+J/fk1FS/FvBDCaONFq/7fBMIfPM3a7nJ2RbKrffpP0Nc22Za5e1u1UHHzwpIHu2LoQ93sT0z5L4bX5Fd1DYm0IUisilHfGgDRie8jC1nIcmHcMKdpQADf8BY0dagMP+Jo5BhLRVIEGfZ1jTQZuFEwAiD+tFT9rv6eYjC0gqqmQx0DfaZUTVKUFXIIkotRc3TfLedGDP+dE+5ghoWvTt+NplequKO3LWq+JFYALQLLLrgkpXKcHD48HuMLM7fx0iKT09UPDrrtpgOAiaat0SYE73I0FpV/Hcsw0y/XKFY/sH64q1zqIwOQWSEVHd5U/MZkQn7yYrfz3lpqAI2S6FXYpgM="
